import boto3

def lambda_handler(event, context):
    # Create an EC2 client
    ec2 = boto3.client('ec2')

    # The instance ID of the target instance
    instance_id = 'i-0123456789abcdefg'

    # The ID of the SSM document to run
    document_name = 'AWS-RunShellScript'

    # The command to run on the instance
    command = 'ls /'

    # Send the command to the instance
    response = ec2.send_command(
        InstanceIds=[instance_id],
        DocumentName=document_name,
        Parameters={'commands': [command]}
    )

    # Print the command ID for reference
    print(f"Command ID: {response['Command']['CommandId']}")
